{"ast":null,"code":"import _regeneratorRuntime from\"/Users/siarradjabi/Documents/GitHub/sokar/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/siarradjabi/Documents/GitHub/sokar/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/siarradjabi/Documents/GitHub/sokar/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import EventBoxInfo from'./EventBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FindEventsPage=function FindEventsPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];// State to store events\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setSearchTerm=_useState4[1];// State to store the search input\nuseEffect(function(){getAllEvents();},[]);// Empty dependency array means this effect runs once on component mount.\nvar getAllEvents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:9000/getAllEvents',{method:'GET',headers:{'Content-Type':'application/json'},credentials:'include'});case 3:response=_context.sent;if(!response.ok){_context.next=11;break;}_context.next=7;return response.json();case 7:data=_context.sent;setEvents(data);// Store events data\n_context.next=12;break;case 11:throw new Error('An unexpected error occurred');case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function getAllEvents(){return _ref.apply(this,arguments);};}();// Filter events based on search term\nvar filteredEvents=events.filter(function(event){return event.Name.toLowerCase().includes(searchTerm.toLowerCase());});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',marginTop:\"5%\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:\"3vw\"},children:\"Find an event\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"1.6vw\"},children:\" Enter a name or your location to find a competition near you \"}),/*#__PURE__*/_jsx(\"input\",{style:{borderRadius:\"16px\",width:'50%',padding:'10px',fontSize:\"1.5vw\"},type:\"text\",placeholder:\"Search...\",value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value);}})]}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:\"none\",display:\"flex\",flexWrap:\"wrap\",marginTop:\"5%\"},children:filteredEvents.slice(0,6).map(function(event,index){return/*#__PURE__*/_jsx(\"li\",{style:{width:\"25%\",margin:\"2.5%\"},children:/*#__PURE__*/_jsx(EventBoxInfo,{competitionID:event.CompetitionID,competitionName:event.Name,startDate:event.StartDate,location:event.Location,type:event.Type,gameType:event.GameType})},index);})})]});};export default FindEventsPage;","map":{"version":3,"names":["React","useState","useEffect","EventBoxInfo","jsx","_jsx","jsxs","_jsxs","FindEventsPage","_useState","_useState2","_slicedToArray","events","setEvents","_useState3","_useState4","searchTerm","setSearchTerm","getAllEvents","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","credentials","sent","ok","json","Error","t0","console","error","stop","apply","arguments","filteredEvents","filter","event","Name","toLowerCase","includes","children","style","display","flexDirection","justifyContent","alignItems","marginTop","fontSize","borderRadius","width","padding","type","placeholder","value","onChange","e","target","listStyleType","flexWrap","slice","map","index","margin","competitionID","CompetitionID","competitionName","startDate","StartDate","location","Location","Type","gameType","GameType"],"sources":["/Users/siarradjabi/Documents/GitHub/sokar/client/src/components/FindEventsPage.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport EventBoxInfo from './EventBox';\n\nconst FindEventsPage = () =>{\n    const [events, setEvents] = useState([]); // State to store events\n    const [searchTerm, setSearchTerm] = useState(''); // State to store the search input\n\n    useEffect(() => {\n        getAllEvents();\n    }, []); // Empty dependency array means this effect runs once on component mount.\n\n    const getAllEvents = async()=>{\n        try {\n            const response = await fetch('http://localhost:9000/getAllEvents', {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                credentials: 'include'\n            });\n            if (response.ok) {\n                const data = await response.json();\n                setEvents(data); // Store events data\n            } else {\n                throw new Error('An unexpected error occurred');\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    // Filter events based on search term\n    const filteredEvents = events.filter(event =>\n        event.Name.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    return(\n        <div>\n            <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', marginTop:\"5%\" }}>\n                <h1 style={{fontSize:\"3vw\"}}>Find an event</h1>\n                <p style={{fontSize:\"1.6vw\"}}> Enter a name or your location to find a competition near you </p>\n                <input\n                    style={{borderRadius:\"16px\", width: '50%', padding: '10px', fontSize:\"1.5vw\"}}\n                    type=\"text\"\n                    placeholder=\"Search...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                />\n            </div>\n            <ul style={{listStyleType:\"none\", display:\"flex\", flexWrap: \"wrap\", marginTop:\"5%\"}}>\n                {filteredEvents.slice(0, 6).map((event, index) => (\n                    <li style={{width:\"25%\", margin: \"2.5%\"}} key={index}>\n                        <EventBoxInfo\n                            competitionID={event.CompetitionID}\n                            competitionName={event.Name}\n                            startDate={event.StartDate}\n                            location={event.Location}\n                            type={event.Type}\n                            gameType={event.GameType}\n                        />\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\n\nexport default FindEventsPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}