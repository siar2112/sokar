{"ast":null,"code":"import _regeneratorRuntime from\"/Users/siarradjabi/Documents/GitHub/sokar/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/siarradjabi/Documents/GitHub/sokar/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/siarradjabi/Documents/GitHub/sokar/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/siarradjabi/Documents/GitHub/sokar/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import GameBoxInfo from\"./GameBoxInfo\";import'./stylesFiles/CompetitionInfo.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FullSchedulePage=function FullSchedulePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),competitionGames=_useState2[0],setCompetitionGames=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),categoryFilter=_useState4[0],setCategoryFilter=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),categories=_useState8[0],setCategories=_useState8[1];var _useParams=useParams(),id=_useParams.id,name=_useParams.name;useEffect(function(){var getAllCompetitionGames=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,getUniqueCategories,uniqueCategories;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('http://localhost:9000/getAllCompetitionGames',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id}),credentials:'include'});case 3:response=_context.sent;if(!response.ok){_context.next=14;break;}_context.next=7;return response.json();case 7:data=_context.sent;setCompetitionGames(data);getUniqueCategories=function getUniqueCategories(games){var categories=games.map(function(game){return game.Category;});return _toConsumableArray(new Set(categories));};uniqueCategories=getUniqueCategories(data);setCategories(uniqueCategories);_context.next=15;break;case 14:throw new Error('An unexpected error occurred');case 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 20:case\"end\":return _context.stop();}},_callee,null,[[0,17]]);}));return function getAllCompetitionGames(){return _ref.apply(this,arguments);};}();getAllCompetitionGames();},[id]);var handleSearch=function handleSearch(event){setSearchTerm(event.target.value);};var filteredGames=competitionGames.filter(function(game){return(categoryFilter===\"\"||game.Category===categoryFilter)&&(game.Team1_Name.toLowerCase().includes(searchTerm.toLowerCase())||game.Team2_Name.toLowerCase().includes(searchTerm.toLowerCase()));});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",backgroundImage:\"linear-gradient(to bottom right,blue,black)\",paddingTop:\"2.5%\",width:\"80%\",marginLeft:\"10%\",paddingBottom:\"1%\",borderRadius:\"30px\"},children:/*#__PURE__*/_jsx(\"h1\",{children:name})}),/*#__PURE__*/_jsx(\"h1\",{style:{marginTop:\"5%\",marginLeft:\"10%\"},children:\"Upcoming games\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginLeft:\"10%\"},children:\"Enter the name of a team to find its upcoming games\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"2%\",marginLeft:\"10%\"},children:/*#__PURE__*/_jsx(\"input\",{style:{borderRadius:\"16px\",width:'50%',padding:'10px',fontSize:\"1.5vw\"},type:\"text\",placeholder:\"Search\",value:searchTerm,onChange:handleSearch})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"2%\",marginLeft:\"10%\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category-filter\",children:\"Filter by category: \"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category-filter\",value:categoryFilter,onChange:function onChange(e){return setCategoryFilter(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category);})]})]}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:\"none\",display:\"block\",marginTop:\"2.5%\"},children:filteredGames.map(function(game,index){return/*#__PURE__*/_jsx(\"li\",{style:{width:\"75%\",margin:\"1%\",marginLeft:\"10%\"},children:/*#__PURE__*/_jsx(GameBoxInfo,{team1:game.Team1_Name,team2:game.Team2_Name,competitionName:game.CompetitionName,category:game.Category,team1_percentage:game.Team1_Win_percentage,team2_percentage:game.Team2_Win_percentage,importance:game.Importance,location:game.Location,date:game.GameDate,duration:game.Duration,gameID:game.GameID,team1_score:game.Team1_Goals,team2_score:game.Team2_Goals,type:game.Type,field:game.Field})},index);})})]});};export default FullSchedulePage;","map":{"version":3,"names":["React","useState","useEffect","useParams","GameBoxInfo","jsx","_jsx","jsxs","_jsxs","FullSchedulePage","_useState","_useState2","_slicedToArray","competitionGames","setCompetitionGames","_useState3","_useState4","categoryFilter","setCategoryFilter","_useState5","_useState6","searchTerm","setSearchTerm","_useState7","_useState8","categories","setCategories","_useParams","id","name","getAllCompetitionGames","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","getUniqueCategories","uniqueCategories","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","credentials","sent","ok","json","games","map","game","Category","_toConsumableArray","Set","Error","t0","console","error","stop","apply","arguments","handleSearch","event","target","value","filteredGames","filter","Team1_Name","toLowerCase","includes","Team2_Name","children","style","textAlign","backgroundImage","paddingTop","width","marginLeft","paddingBottom","borderRadius","marginTop","padding","fontSize","type","placeholder","onChange","htmlFor","e","category","listStyleType","display","index","margin","team1","team2","competitionName","CompetitionName","team1_percentage","Team1_Win_percentage","team2_percentage","Team2_Win_percentage","importance","Importance","location","Location","date","GameDate","duration","Duration","gameID","GameID","team1_score","Team1_Goals","team2_score","Team2_Goals","Type","field","Field"],"sources":["/Users/siarradjabi/Documents/GitHub/sokar/client/src/components/FullSchedulePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport GameBoxInfo from \"./GameBoxInfo\";\nimport './stylesFiles/CompetitionInfo.css';\n\nconst FullSchedulePage = () => {\n    const [competitionGames, setCompetitionGames] = useState([]);\n    const [categoryFilter, setCategoryFilter] = useState(\"\");\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [categories, setCategories] = useState([]);\n    let { id, name } = useParams();\n\n    useEffect(() => {\n        const getAllCompetitionGames = async () => {\n            try {\n                const response = await fetch('http://localhost:9000/getAllCompetitionGames', {\n                    method: 'post',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({ id: id }),\n                    credentials: 'include',\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    setCompetitionGames(data);\n\n                    const getUniqueCategories = (games) => {\n                        const categories = games.map((game) => game.Category);\n                        return [...new Set(categories)];\n                    };\n\n                    const uniqueCategories = getUniqueCategories(data);\n                    setCategories(uniqueCategories);\n                } else {\n                    throw new Error('An unexpected error occurred');\n                }\n            } catch (error) {\n                console.error(error);\n            }\n        };\n        getAllCompetitionGames();\n    }, [id]);\n\n    const handleSearch = (event) => {\n        setSearchTerm(event.target.value);\n    };\n\n    const filteredGames = competitionGames.filter(\n        game =>\n            (categoryFilter === \"\" || game.Category === categoryFilter) &&\n            (game.Team1_Name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                game.Team2_Name.toLowerCase().includes(searchTerm.toLowerCase()))\n    );\n\n    return (\n        <div>\n            <div style={{textAlign:\"center\",backgroundImage:\"linear-gradient(to bottom right,blue,black)\",\n                paddingTop:\"2.5%\",width:\"80%\",marginLeft:\"10%\",paddingBottom:\"1%\",borderRadius:\"30px\"}}>\n                <h1>{name}</h1>\n            </div>\n            <h1 style={{marginTop:\"5%\", marginLeft:\"10%\"}}>Upcoming games</h1>\n            <p style={{marginLeft:\"10%\"}}>Enter the name of a team to find its upcoming games</p>\n            <div style={{ marginTop: \"2%\", marginLeft: \"10%\" }}>\n                <input style={{borderRadius:\"16px\", width: '50%', padding: '10px', fontSize:\"1.5vw\"}}\n                       type=\"text\" placeholder=\"Search\" value={searchTerm} onChange={handleSearch} />\n            </div>\n            <div style={{ marginTop: \"2%\", marginLeft: \"10%\" }}>\n                <label htmlFor=\"category-filter\">Filter by category: </label>\n                <select id=\"category-filter\" value={categoryFilter} onChange={e => setCategoryFilter(e.target.value)}>\n                    <option value=\"\">All</option>\n                    {categories.map(category => (\n                        <option key={category} value={category}>{category}</option>\n                    ))}\n                </select>\n            </div>\n            <ul style={{listStyleType:\"none\", display:\"block\", marginTop:\"2.5%\"}}>\n                {filteredGames.map((game, index) => (\n                    <li style={{width:\"75%\", margin: \"1%\", marginLeft:\"10%\"}} key={index}>\n                        <GameBoxInfo team1={game.Team1_Name} team2={game.Team2_Name} competitionName={game.CompetitionName}\n                                     category={game.Category} team1_percentage={game.Team1_Win_percentage} team2_percentage={game.Team2_Win_percentage}\n                                     importance={game.Importance} location={game.Location} date={game.GameDate} duration={game.Duration}\n                                     gameID={game.GameID} team1_score={game.Team1_Goals} team2_score={game.Team2_Goals} type={game.Type} field={game.Field}/>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nexport default FullSchedulePage;\n"],"mappings":"gjBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3C,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC3B,IAAAC,SAAA,CAAgDT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArDG,gBAAgB,CAAAF,UAAA,IAAEG,mBAAmB,CAAAH,UAAA,IAC5C,IAAAI,UAAA,CAA4Cd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjDE,cAAc,CAAAD,UAAA,IAAEE,iBAAiB,CAAAF,UAAA,IACxC,IAAAG,UAAA,CAAoClB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAoCtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAmBxB,SAAS,CAAC,CAAC,CAAxByB,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAAEC,IAAI,CAAAF,UAAA,CAAJE,IAAI,CAEd3B,SAAS,CAAC,UAAM,CACZ,GAAM,CAAA4B,sBAAsB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,CAAAC,mBAAA,CAAAC,gBAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEA,CAAAC,KAAK,CAAC,8CAA8C,CAAE,CACzEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEtB,EAAE,CAAEA,EAAG,CAAC,CAAC,CAChCuB,WAAW,CAAE,SACjB,CAAC,CAAC,QAPIf,QAAQ,CAAAM,QAAA,CAAAU,IAAA,KAQVhB,QAAQ,CAACiB,EAAE,EAAAX,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,SACQ,CAAAR,QAAQ,CAACkB,IAAI,CAAC,CAAC,QAA5BjB,IAAI,CAAAK,QAAA,CAAAU,IAAA,CACVtC,mBAAmB,CAACuB,IAAI,CAAC,CAEnBC,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIiB,KAAK,CAAK,CACnC,GAAM,CAAA9B,UAAU,CAAG8B,KAAK,CAACC,GAAG,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACC,QAAQ,GAAC,CACrD,OAAAC,kBAAA,CAAW,GAAI,CAAAC,GAAG,CAACnC,UAAU,CAAC,EAClC,CAAC,CAEKc,gBAAgB,CAAGD,mBAAmB,CAACD,IAAI,CAAC,CAClDX,aAAa,CAACa,gBAAgB,CAAC,CAACG,QAAA,CAAAE,IAAA,uBAE1B,IAAI,CAAAiB,KAAK,CAAC,8BAA8B,CAAC,SAAAnB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAoB,EAAA,CAAApB,QAAA,aAGnDqB,OAAO,CAACC,KAAK,CAAAtB,QAAA,CAAAoB,EAAM,CAAC,CAAC,yBAAApB,QAAA,CAAAuB,IAAA,MAAA9B,OAAA,iBAE5B,kBA3BK,CAAAL,sBAAsBA,CAAA,SAAAC,IAAA,CAAAmC,KAAA,MAAAC,SAAA,OA2B3B,CACDrC,sBAAsB,CAAC,CAAC,CAC5B,CAAC,CAAE,CAACF,EAAE,CAAC,CAAC,CAER,GAAM,CAAAwC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,CAAK,CAC5B/C,aAAa,CAAC+C,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACrC,CAAC,CAED,GAAM,CAAAC,aAAa,CAAG3D,gBAAgB,CAAC4D,MAAM,CACzC,SAAAhB,IAAI,QACA,CAACxC,cAAc,GAAK,EAAE,EAAIwC,IAAI,CAACC,QAAQ,GAAKzC,cAAc,IACzDwC,IAAI,CAACiB,UAAU,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvD,UAAU,CAACsD,WAAW,CAAC,CAAC,CAAC,EAC7DlB,IAAI,CAACoB,UAAU,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACvD,UAAU,CAACsD,WAAW,CAAC,CAAC,CAAC,CAAC,EAC7E,CAAC,CAED,mBACInE,KAAA,QAAAsE,QAAA,eACIxE,IAAA,QAAKyE,KAAK,CAAE,CAACC,SAAS,CAAC,QAAQ,CAACC,eAAe,CAAC,6CAA6C,CACzFC,UAAU,CAAC,MAAM,CAACC,KAAK,CAAC,KAAK,CAACC,UAAU,CAAC,KAAK,CAACC,aAAa,CAAC,IAAI,CAACC,YAAY,CAAC,MAAM,CAAE,CAAAR,QAAA,cACvFxE,IAAA,OAAAwE,QAAA,CAAKjD,IAAI,CAAK,CAAC,CACd,CAAC,cACNvB,IAAA,OAAIyE,KAAK,CAAE,CAACQ,SAAS,CAAC,IAAI,CAAEH,UAAU,CAAC,KAAK,CAAE,CAAAN,QAAA,CAAC,gBAAc,CAAI,CAAC,cAClExE,IAAA,MAAGyE,KAAK,CAAE,CAACK,UAAU,CAAC,KAAK,CAAE,CAAAN,QAAA,CAAC,qDAAmD,CAAG,CAAC,cACrFxE,IAAA,QAAKyE,KAAK,CAAE,CAAEQ,SAAS,CAAE,IAAI,CAAEH,UAAU,CAAE,KAAM,CAAE,CAAAN,QAAA,cAC/CxE,IAAA,UAAOyE,KAAK,CAAE,CAACO,YAAY,CAAC,MAAM,CAAEH,KAAK,CAAE,KAAK,CAAEK,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAC,OAAO,CAAE,CAC9EC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,QAAQ,CAACpB,KAAK,CAAElD,UAAW,CAACuE,QAAQ,CAAExB,YAAa,CAAE,CAAC,CACpF,CAAC,cACN5D,KAAA,QAAKuE,KAAK,CAAE,CAAEQ,SAAS,CAAE,IAAI,CAAEH,UAAU,CAAE,KAAM,CAAE,CAAAN,QAAA,eAC/CxE,IAAA,UAAOuF,OAAO,CAAC,iBAAiB,CAAAf,QAAA,CAAC,sBAAoB,CAAO,CAAC,cAC7DtE,KAAA,WAAQoB,EAAE,CAAC,iBAAiB,CAAC2C,KAAK,CAAEtD,cAAe,CAAC2E,QAAQ,CAAE,SAAAA,SAAAE,CAAC,QAAI,CAAA5E,iBAAiB,CAAC4E,CAAC,CAACxB,MAAM,CAACC,KAAK,CAAC,EAAC,CAAAO,QAAA,eACjGxE,IAAA,WAAQiE,KAAK,CAAC,EAAE,CAAAO,QAAA,CAAC,KAAG,CAAQ,CAAC,CAC5BrD,UAAU,CAAC+B,GAAG,CAAC,SAAAuC,QAAQ,qBACpBzF,IAAA,WAAuBiE,KAAK,CAAEwB,QAAS,CAAAjB,QAAA,CAAEiB,QAAQ,EAApCA,QAA6C,CAAC,EAC9D,CAAC,EACE,CAAC,EACR,CAAC,cACNzF,IAAA,OAAIyE,KAAK,CAAE,CAACiB,aAAa,CAAC,MAAM,CAAEC,OAAO,CAAC,OAAO,CAAEV,SAAS,CAAC,MAAM,CAAE,CAAAT,QAAA,CAChEN,aAAa,CAAChB,GAAG,CAAC,SAACC,IAAI,CAAEyC,KAAK,qBAC3B5F,IAAA,OAAIyE,KAAK,CAAE,CAACI,KAAK,CAAC,KAAK,CAAEgB,MAAM,CAAE,IAAI,CAAEf,UAAU,CAAC,KAAK,CAAE,CAAAN,QAAA,cACrDxE,IAAA,CAACF,WAAW,EAACgG,KAAK,CAAE3C,IAAI,CAACiB,UAAW,CAAC2B,KAAK,CAAE5C,IAAI,CAACoB,UAAW,CAACyB,eAAe,CAAE7C,IAAI,CAAC8C,eAAgB,CACtFR,QAAQ,CAAEtC,IAAI,CAACC,QAAS,CAAC8C,gBAAgB,CAAE/C,IAAI,CAACgD,oBAAqB,CAACC,gBAAgB,CAAEjD,IAAI,CAACkD,oBAAqB,CAClHC,UAAU,CAAEnD,IAAI,CAACoD,UAAW,CAACC,QAAQ,CAAErD,IAAI,CAACsD,QAAS,CAACC,IAAI,CAAEvD,IAAI,CAACwD,QAAS,CAACC,QAAQ,CAAEzD,IAAI,CAAC0D,QAAS,CACnGC,MAAM,CAAE3D,IAAI,CAAC4D,MAAO,CAACC,WAAW,CAAE7D,IAAI,CAAC8D,WAAY,CAACC,WAAW,CAAE/D,IAAI,CAACgE,WAAY,CAAC/B,IAAI,CAAEjC,IAAI,CAACiE,IAAK,CAACC,KAAK,CAAElE,IAAI,CAACmE,KAAM,CAAC,CAAC,EAJ1E1B,KAK3D,CAAC,EACR,CAAC,CACF,CAAC,EACJ,CAAC,CAEd,CAAC,CAED,cAAe,CAAAzF,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}